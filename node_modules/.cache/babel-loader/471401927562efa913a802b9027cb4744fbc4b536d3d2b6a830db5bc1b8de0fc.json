{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rlawl\\\\IdeaProjects\\\\wwoof-frontend\\\\wwoof-frontend\\\\src\\\\components\\\\host\\\\HostDetailPage.js\",\n  _s = $RefreshSig$();\nimport { json, useRouteLoaderData } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction HostDetailPage() {\n  _s();\n  const {\n    hostDetail,\n    ResrvDscn\n  } = useRouteLoaderData(\"hostDetail\", \"ResrvDscn\");\n  const [value, onChange] = useState(new Date());\n  const [bookedDates, setBookedDates] = useState([]);\n\n  // 예약 날짜 가져옴 \n  // 페이지 한번 로딩 이후로 바뀔일 없음 \n  useEffect(() => {\n    const bookedDates = ResrvDscn.json();\n    const bookedDatesArr = [];\n    bookedDates.then(result => result.forEach(element => {\n      const start = new Date(element.startDate);\n      const end = new Date(element.endDate);\n      while (start <= end) {\n        bookedDatesArr.push(start.toISOString().split('T')[0]);\n        start.setDate(start.getDate() + 1);\n      }\n    }));\n    setBookedDates(bookedDatesArr);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: hostDetail.hostNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [hostDetail.hostImg.map(img => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: img.fileUri,\n            alt: img.filename,\n            style: {\n              width: \"200px\",\n              height: \"150px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this)\n        }, img.hostImg_turn, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: hostDetail.shortintro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.region\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.gender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.age\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.farmsts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.intro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.maxPpl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(HostDetailPage, \"Pu8sHlMpKe4HI/4KlclNbV2Fv9k=\", false, function () {\n  return [useRouteLoaderData];\n});\n_c = HostDetailPage;\nexport default HostDetailPage;\nexport async function loader(_ref) {\n  let {\n    request,\n    params\n  } = _ref;\n  //params 로 작업 가능\n  const hnum = params.hostNum;\n  const [responseHostDetail, responseResrvDetail] = await Promise.all([fetch(\"http://localhost:8080/api/host/\" + hnum, {}), fetch(\"http://localhost:8080/api/resrv/\" + hnum, {})]);\n  if (!responseHostDetail.ok || !responseResrvDetail.ok) {\n    throw json({\n      message: \"Could not fetch detail for selected event\"\n    }, {\n      status: 500\n    });\n  } else {\n    let hostDetail = await responseHostDetail.json();\n    let resrvDscn = await responseResrvDetail.json();\n    return {\n      hostDetail,\n      resrvDscn\n    };\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"HostDetailPage\");","map":{"version":3,"names":["json","useRouteLoaderData","useEffect","useState","moment","jsxDEV","_jsxDEV","Fragment","_Fragment","HostDetailPage","_s","hostDetail","ResrvDscn","value","onChange","Date","bookedDates","setBookedDates","bookedDatesArr","then","result","forEach","element","start","startDate","end","endDate","push","toISOString","split","setDate","getDate","children","hostNum","fileName","_jsxFileName","lineNumber","columnNumber","hostImg","map","img","src","fileUri","alt","filename","style","width","height","hostImg_turn","shortintro","region","gender","age","farmsts","intro","maxPpl","_c","loader","_ref","request","params","hnum","responseHostDetail","responseResrvDetail","Promise","all","fetch","ok","message","status","resrvDscn","$RefreshReg$"],"sources":["C:/Users/rlawl/IdeaProjects/wwoof-frontend/wwoof-frontend/src/components/host/HostDetailPage.js"],"sourcesContent":["import { json, useRouteLoaderData } from \"react-router-dom\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\n\r\n\r\nfunction HostDetailPage() {\r\n  const { hostDetail, ResrvDscn } = useRouteLoaderData(\"hostDetail\", \"ResrvDscn\");\r\n\r\n  const [value, onChange] = useState(new Date());\r\n  const [bookedDates, setBookedDates] = useState([]);\r\n\r\n\r\n  // 예약 날짜 가져옴 \r\n  // 페이지 한번 로딩 이후로 바뀔일 없음 \r\n  useEffect(()=>{\r\n\r\n    const bookedDates = ResrvDscn.json();\r\n    const bookedDatesArr = [];\r\n\r\n    bookedDates.then(result => result.forEach(element => {\r\n      const start = new Date(element.startDate);\r\n      const end = new Date(element.endDate);\r\n\r\n      while (start <= end) {\r\n        bookedDatesArr.push(start.toISOString().split('T')[0]);\r\n        start.setDate(start.getDate() + 1);\r\n      }\r\n\r\n    }));\r\n    setBookedDates(bookedDatesArr);\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n    <div>\r\n      <h1>{hostDetail.hostNum}</h1>\r\n      <ul>\r\n        {hostDetail.hostImg.map((img) => (\r\n          <li key={img.hostImg_turn}>\r\n            <img\r\n              src={img.fileUri}\r\n              alt={img.filename}\r\n              style={{ width: \"200px\", height: \"150px\" }}\r\n            />\r\n          </li>\r\n        ))}\r\n\r\n        <p>{hostDetail.shortintro}</p>\r\n        <li>{hostDetail.region}</li>\r\n        <li>{hostDetail.gender}</li>\r\n        <li>{hostDetail.age}</li>\r\n        <li>{hostDetail.farmsts}</li>\r\n        <li>{hostDetail.intro}</li>\r\n        <li>{hostDetail.maxPpl}</li>\r\n      </ul>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HostDetailPage;\r\n\r\nexport async function loader({ request, params }) {\r\n  //params 로 작업 가능\r\n  const hnum = params.hostNum;\r\n\r\n  const [responseHostDetail, responseResrvDetail] = await Promise.all([\r\n    fetch(\"http://localhost:8080/api/host/\" + hnum, {\r\n    }),\r\n    fetch(\"http://localhost:8080/api/resrv/\"+ hnum, {\r\n    }),\r\n  ]);\r\n\r\n  if (!responseHostDetail.ok || !responseResrvDetail.ok) {\r\n    throw json(\r\n      {\r\n        message: \"Could not fetch detail for selected event\",\r\n      },\r\n      { status: 500 }\r\n    );\r\n  } else {\r\n    let hostDetail = await responseHostDetail.json();\r\n    let resrvDscn = await responseResrvDetail.json();\r\n\r\n    return { hostDetail, resrvDscn };\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}