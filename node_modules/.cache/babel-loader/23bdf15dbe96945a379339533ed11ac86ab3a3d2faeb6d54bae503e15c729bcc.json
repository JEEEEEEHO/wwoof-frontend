{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rlawl\\\\IdeaProjects\\\\wwoof-frontend\\\\wwoof-frontend\\\\src\\\\components\\\\host\\\\HostDetailPage.js\",\n  _s = $RefreshSig$();\nimport { json, useRouteLoaderData } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction HostDetailPage() {\n  _s();\n  const {\n    hostDetail,\n    ResrvDscn\n  } = useRouteLoaderData(\"hostDetail\", \"ResrvDscn\");\n\n  // 예약 날짜 가져옴 \n  // 페이지 한번 로딩 이후로 바뀔일 없음 \n  useEffect(() => {\n    const bookedDates = ResrvDscn.json();\n    const bookedDatesArr = [];\n    bookedDates.then(result => result.forEach(element => {\n      const start = new Date(element.startDate);\n      const end = new Date(element.endDate);\n      while (start <= end) {\n        bookedDatesArr.push(start.toISOString().split('T')[0]);\n        start.setDate(start.getDate() + 1);\n      }\n    }));\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: hostDetail.hostNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [hostDetail.hostImg.map(img => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: img.fileUri,\n            alt: img.filename,\n            style: {\n              width: \"200px\",\n              height: \"150px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, img.hostImg_turn, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: hostDetail.shortintro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.region\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.gender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.age\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.farmsts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.intro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: hostDetail.maxPpl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(HostDetailPage, \"Jfry2Vt5WMXudoYpQVQ5vXAheFU=\", false, function () {\n  return [useRouteLoaderData];\n});\n_c = HostDetailPage;\nexport default HostDetailPage;\nexport async function loader(_ref) {\n  let {\n    request,\n    params\n  } = _ref;\n  //params 로 작업 가능\n  const hnum = params.hostNum;\n  const [responseHostDetail, responseResrvDetail] = await Promise.all([fetch(\"http://localhost:8080/api/host/\" + hnum, {}), fetch(\"http://localhost:8080/api/resrv/\" + hnum, {})]);\n  if (!responseHostDetail.ok || !responseResrvDetail.ok) {\n    throw json({\n      message: \"Could not fetch detail for selected event\"\n    }, {\n      status: 500\n    });\n  } else {\n    let hostDetail = await responseHostDetail.json();\n    let resrvDscn = await responseResrvDetail.json();\n    return {\n      hostDetail,\n      resrvDscn\n    };\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"HostDetailPage\");","map":{"version":3,"names":["json","useRouteLoaderData","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","HostDetailPage","_s","hostDetail","ResrvDscn","bookedDates","bookedDatesArr","then","result","forEach","element","start","Date","startDate","end","endDate","push","toISOString","split","setDate","getDate","children","hostNum","fileName","_jsxFileName","lineNumber","columnNumber","hostImg","map","img","src","fileUri","alt","filename","style","width","height","hostImg_turn","shortintro","region","gender","age","farmsts","intro","maxPpl","_c","loader","_ref","request","params","hnum","responseHostDetail","responseResrvDetail","Promise","all","fetch","ok","message","status","resrvDscn","$RefreshReg$"],"sources":["C:/Users/rlawl/IdeaProjects/wwoof-frontend/wwoof-frontend/src/components/host/HostDetailPage.js"],"sourcesContent":["import { json, useRouteLoaderData } from \"react-router-dom\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\n\r\nfunction HostDetailPage() {\r\n  const { hostDetail, ResrvDscn } = useRouteLoaderData(\"hostDetail\", \"ResrvDscn\");\r\n\r\n\r\n  // 예약 날짜 가져옴 \r\n  // 페이지 한번 로딩 이후로 바뀔일 없음 \r\n  useEffect(()=>{\r\n\r\n    const bookedDates = ResrvDscn.json();\r\n    const bookedDatesArr = [];\r\n\r\n    bookedDates.then(result => result.forEach(element => {\r\n      const start = new Date(element.startDate);\r\n      const end = new Date(element.endDate);\r\n\r\n      while (start <= end) {\r\n        bookedDatesArr.push(start.toISOString().split('T')[0]);\r\n        start.setDate(start.getDate() + 1);\r\n      }\r\n\r\n    }));\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n    <div>\r\n      <h1>{hostDetail.hostNum}</h1>\r\n      <ul>\r\n        {hostDetail.hostImg.map((img) => (\r\n          <li key={img.hostImg_turn}>\r\n            <img\r\n              src={img.fileUri}\r\n              alt={img.filename}\r\n              style={{ width: \"200px\", height: \"150px\" }}\r\n            />\r\n          </li>\r\n        ))}\r\n\r\n        <p>{hostDetail.shortintro}</p>\r\n        <li>{hostDetail.region}</li>\r\n        <li>{hostDetail.gender}</li>\r\n        <li>{hostDetail.age}</li>\r\n        <li>{hostDetail.farmsts}</li>\r\n        <li>{hostDetail.intro}</li>\r\n        <li>{hostDetail.maxPpl}</li>\r\n      </ul>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HostDetailPage;\r\n\r\nexport async function loader({ request, params }) {\r\n  //params 로 작업 가능\r\n  const hnum = params.hostNum;\r\n\r\n  const [responseHostDetail, responseResrvDetail] = await Promise.all([\r\n    fetch(\"http://localhost:8080/api/host/\" + hnum, {\r\n    }),\r\n    fetch(\"http://localhost:8080/api/resrv/\"+ hnum, {\r\n    }),\r\n  ]);\r\n\r\n  if (!responseHostDetail.ok || !responseResrvDetail.ok) {\r\n    throw json(\r\n      {\r\n        message: \"Could not fetch detail for selected event\",\r\n      },\r\n      { status: 500 }\r\n    );\r\n  } else {\r\n    let hostDetail = await responseHostDetail.json();\r\n    let resrvDscn = await responseResrvDetail.json();\r\n\r\n    return { hostDetail, resrvDscn };\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}