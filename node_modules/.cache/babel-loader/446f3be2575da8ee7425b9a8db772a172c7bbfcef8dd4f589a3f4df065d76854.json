{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rlawl\\\\IdeaProjects\\\\wwoof-frontend\\\\wwoof-frontend\\\\src\\\\components\\\\host\\\\HostDetailPage.js\",\n  _s = $RefreshSig$();\nimport { json, useRouteLoaderData } from \"react-router-dom\";\nimport { StyledDot } from '../../css/calender/styles.css';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport { useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction HostDetailPage() {\n  _s();\n  const data = useRouteLoaderData(\"host-detail\");\n  const [value, onChange] = useState(new Date());\n  const [bookedDates, setBookedDates] = useState([]);\n\n  // 예약 날짜 가져옴 \n  // 페이지 한번 로딩 이후로 바뀔일 없음 \n  useEffect(() => {\n    async function fetchData() {\n      let headers = new Headers({\n        \"Content-Type\": \"application/json\"\n      });\n      const accessToken = localStorage.getItem(\"ACCESS_TOKEN\");\n      if (accessToken && accessToken !== null) {\n        headers.append(\"Authorization\", \"Bearer \" + accessToken);\n      }\n      const response = await fetch(\"http://localhost:8080/api/host/info\", {\n        method: \"GET\",\n        headers: headers\n      });\n      if (!response.ok) {\n        throw json({\n          message: \"Could not fetch events.\"\n        }, {\n          status: 500\n        });\n      } else {\n        const bookedDates = response.json();\n        const datesArr = [];\n        bookedDates.then(result => result.forEach(element => {\n          const start = new Date(element.startDate);\n          const end = new Date(element.endDate);\n          while (start <= end) {\n            datesArr.push(start.toISOString().split('T')[0]);\n            start.setDate(start.getDate() + 1);\n          }\n        }));\n        setBookedDates(datesArr);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: data.hostNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [data.hostImg.map(img => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: img.fileUri,\n            alt: img.filename,\n            style: {\n              width: \"200px\",\n              height: \"150px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, img.hostImg_turn, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: data.shortintro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: data.region\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: data.gender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: data.age\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: data.farmsts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: data.intro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: data.maxPpl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Calendar, {\n        onChange: alert(\"value : \", value),\n        value: value\n        // 이미 예약한 날짜 불러오기 \n        ,\n        tileContent: _ref => {\n          let {\n            date,\n            view\n          } = _ref;\n          if (bookedDates.find(x => x === moment(date).format(\"YYYY-MM-DD\"))) {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(StyledDot, {}, moment(date).format(\"YYYY-MM-DD\"), false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false);\n          }\n        }\n        // 클릭 시작 ~ 클릭 종료일 서버에 넘기기\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(HostDetailPage, \"Za9fahT/sha6Fd8UrU9NUTMjkQ4=\", false, function () {\n  return [useRouteLoaderData];\n});\n_c = HostDetailPage;\nexport default HostDetailPage;\nexport async function loader(_ref2) {\n  let {\n    request,\n    params\n  } = _ref2;\n  //params 로 작업 가능\n  const hnum = params.hostNum;\n  const response = await fetch(\"http://localhost:8080/api/host/\" + hnum);\n  if (!response.ok) {\n    throw json({\n      message: \"Could not fetch detail for selected event\"\n    }, {\n      status: 500\n    });\n  } else {\n    return response;\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"HostDetailPage\");","map":{"version":3,"names":["json","useRouteLoaderData","StyledDot","Calendar","useEffect","useState","moment","jsxDEV","_jsxDEV","Fragment","_Fragment","HostDetailPage","_s","data","value","onChange","Date","bookedDates","setBookedDates","fetchData","headers","Headers","accessToken","localStorage","getItem","append","response","fetch","method","ok","message","status","datesArr","then","result","forEach","element","start","startDate","end","endDate","push","toISOString","split","setDate","getDate","children","hostNum","fileName","_jsxFileName","lineNumber","columnNumber","hostImg","map","img","src","fileUri","alt","filename","style","width","height","hostImg_turn","shortintro","region","gender","age","farmsts","intro","maxPpl","alert","tileContent","_ref","date","view","find","x","format","_c","loader","_ref2","request","params","hnum","$RefreshReg$"],"sources":["C:/Users/rlawl/IdeaProjects/wwoof-frontend/wwoof-frontend/src/components/host/HostDetailPage.js"],"sourcesContent":["import { json, useRouteLoaderData } from \"react-router-dom\";\r\nimport{StyledDot} from '../../css/calender/styles.css'\r\nimport Calendar from 'react-calendar';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\n\r\n\r\nfunction HostDetailPage() {\r\n  const data = useRouteLoaderData(\"host-detail\");\r\n\r\n  const [value, onChange] = useState(new Date());\r\n  const [bookedDates, setBookedDates] = useState([]);\r\n\r\n\r\n  // 예약 날짜 가져옴 \r\n  // 페이지 한번 로딩 이후로 바뀔일 없음 \r\n  useEffect(()=>{\r\n    async function fetchData() {\r\n      let headers = new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n      });\r\n      const accessToken = localStorage.getItem(\"ACCESS_TOKEN\");\r\n      if (accessToken && accessToken !== null) {\r\n        headers.append(\"Authorization\", \"Bearer \" + accessToken);\r\n      }\r\n  \r\n      const response = await fetch(\"http://localhost:8080/api/host/info\", {\r\n        method: \"GET\",\r\n        headers: headers,\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        throw json(\r\n          { message: \"Could not fetch events.\" },\r\n          {\r\n            status: 500,\r\n          }\r\n        );\r\n      } else {\r\n        const bookedDates = response.json();\r\n        const datesArr = [];\r\n\r\n        bookedDates.then(result => result.forEach(element => {\r\n          const start = new Date(element.startDate);\r\n          const end = new Date(element.endDate);\r\n\r\n          while (start <= end) {\r\n            datesArr.push(start.toISOString().split('T')[0]);\r\n            start.setDate(start.getDate() + 1);\r\n          }\r\n\r\n        }));\r\n\r\n        setBookedDates(datesArr);\r\n      }\r\n    }\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n    <div>\r\n    <h1>{data.hostNum}</h1>\r\n      <ul>\r\n        {data.hostImg.map((img) => (\r\n          <li key={img.hostImg_turn}>\r\n            <img\r\n              src={img.fileUri}\r\n              alt={img.filename}\r\n              style={{ width: \"200px\", height: \"150px\" }}\r\n            />\r\n          </li>\r\n        ))}\r\n\r\n        <p>{data.shortintro}</p>\r\n        <li>{data.region}</li>\r\n        <li>{data.gender}</li>\r\n        <li>{data.age}</li>\r\n        <li>{data.farmsts}</li>\r\n        <li>{data.intro}</li>\r\n        <li>{data.maxPpl}</li>\r\n      </ul>\r\n    </div>\r\n    <div>\r\n      <Calendar \r\n        onChange={alert(\"value : \", value)} \r\n        value={value} \r\n        // 이미 예약한 날짜 불러오기 \r\n        tileContent={({ date, view }) => {\r\n          if (bookedDates.find((x) => x === moment(date).format(\"YYYY-MM-DD\"))) {\r\n            return (\r\n             <>\r\n                <StyledDot key={moment(date).format(\"YYYY-MM-DD\")} />\r\n             </>\r\n           );\r\n          }\r\n        }}\r\n        // 클릭 시작 ~ 클릭 종료일 서버에 넘기기\r\n\r\n       />\r\n    </div>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HostDetailPage;\r\n\r\nexport async function loader({ request, params }) {\r\n  //params 로 작업 가능\r\n  const hnum = params.hostNum;\r\n  const response = await fetch(\"http://localhost:8080/api/host/\" + hnum);\r\n\r\n  if (!response.ok) {\r\n    throw json(\r\n      {\r\n        message: \"Could not fetch detail for selected event\",\r\n      },\r\n      { status: 500 }\r\n    );\r\n  } else {\r\n    return response;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}